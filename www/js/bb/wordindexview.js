(function(){CATS.bb.WordIndexView=CATS.bb.BaseView.extend({template:$("#wordindextemplate").html(),tagName:"div",className:"wordindex davidmodalcontent",localizeid:"wordindex",initialize:function(o){this.constructor.__super__.initialize.apply(this,[o]);return this.listenTo(Backbone,"setlang",this.changeIndex)},render:function(){var lang,list,listitems,w,wordindex,_i,_len,_ref;console.log("rendering wordindex");this.$el.html(this.template);this.setUI("wordlist");this.localize();_ref=["en","sv"];for(_i=0,_len=_ref.length;_i<_len;_i++){lang=_ref[_i];wordindex=CATS.texts.wordIndex[lang];listitems=function(){var _j,_len1,_results;_results=[];for(_j=0,_len1=wordindex.length;_j<_len1;_j++){w=wordindex[_j];_results.push("<a href='#' class='lookupindexitem davidlink wordlink' linkto='"+w[0]+"'>"+w[1]+"</a>")}return _results}();list=$("<div class='davidlist'>"+listitems.join("")+"</div>");this.ui.wordlist.append(list);this.ui[lang+"list"]=list}this.changeIndex(CATS.settings.lang);return this},changeIndex:function(lang){var fromlang;fromlang={en:"sv",sv:"en"}[lang];console.log("WHATTHEEFF",lang,fromlang);this.ui[fromlang+"list"].detach();return this.ui.wordlist.append(this.ui[lang+"list"])}})}).call(this);