(function(){CATS.bb.ReportTextView=CATS.bb.BaseView.extend({localizeid:"reporttext",className:"reportview viewbox",category:"error",noprocess:true,showItem:function(data,e){var info,infolist,lang,path,val,why,_ref,_ref1;_ref=data.split("|"),why=_ref[0],path=_ref[1];lang=CATS.settings.lang;this.ui.sendbutton.attr("href","mailto:david@krawaller.se?subject=Algebra%20Explorer%20feedback&body=%0A%0A"+CATS.texts.ui.reporttext.maildata[lang]+"%0D%0A"+encodeURIComponent(function(){var _ref1,_results;_ref1=this.info;_results=[];for(info in _ref1){val=_ref1[info];if(info!=="why"){_results.push(""+info+": "+val+"\n")}}return _results}.call(this)));infolist="<dl>";console.log("ERRORREPORTER",this.info);_ref1=this.info;for(info in _ref1){val=_ref1[info];if(info!=="why"){infolist+="<dt>"+info+":</dt><dd>"+val+"</dd>"}}infolist+="</dl>";this.ui.infoholder.html(infolist);return this.ui.errorwelcomemat.setText(why)},render:function(){var name,val,_ref,_ref1;this.info={displaymode:CATS.settings.size+"-"+CATS.settings.orientation,lang:CATS.settings.lang,appversion:CATS.texts.latestversion,height:document.height,width:document.width};if((_ref=window.device)!=null?_ref.available:void 0){_ref1=window.device;for(name in _ref1){val=_ref1[name];if(typeof val==="string"){this.info[name]=val}}}this.setTitle("headlinereporttext");this.setContent(CATS.cache.templates["#reporttextviewtemplate"]);this.setUI("sendbutton","infoholder","errorwelcomemat");return this}})}).call(this);