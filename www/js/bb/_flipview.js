(function(){CATS.bb.FlipView=CATS.bb.BaseView.extend({template:$("#flipviewtemplate").html(),events:{"click .flipbtn":"flipSection"},flipSection:function(e,section){var btn;if(!section){btn=$(e.srcElement||e.target).closest(".flipbtn");section=btn.attr("data-section")}this.$(".flipcontrol > a.active").removeClass("active");this.$(".flips > .active").removeClass("active");this.$("."+section+"button").parent().addClass("active");this.$("."+section+"section").addClass("active");return console.log("FLIPPED TO ",section)},setup:function(views){this.defs=views;this.childViews=[];return console.log("FLIPSETUP")},render:function(){var constr,first,key,v,_ref;this.$el.html(this.template);this.setUI("flipcontrol","flips");first=true;_ref=this.defs;for(key in _ref){constr=_ref[key];v=new constr;this.childViews.push(v);this[key+"View"]=v;this.ui.flips.append("<div class='flipsection absbox "+key+"section"+(first?" active":"")+"'></div>");this.$("."+key+"section").append(v.render().el);this.ui.flipcontrol.append("<a href='#' class='fliptab flipbtn"+(first?" active":"")+" "+key+"tab' data-section='"+key+"'><span class='"+(key+"button")+"'></span></a>");first=false;console.log("RENDERFLIPS",key)}this.listenTo(Backbone,"flip",this.flipTo);this.localize();return this},flipTo:function(section){if(this.defs[section]){return this.flipSection(false,section)}}})}).call(this);